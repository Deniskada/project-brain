# üî¥ –ö–†–ò–¢–ò–ß–ï–°–ö–ò–ô –ê–ù–ê–õ–ò–ó - Project Brain

**–î–∞—Ç–∞**: 18 –æ–∫—Ç—è–±—Ä—è 2025, 04:30 –ú–°–ö  
**–°—Ç–∞—Ç—É—Å**: ‚ö†Ô∏è **–¢–†–ï–ë–£–ï–¢ –î–û–†–ê–ë–û–¢–ö–ò**

## üìä –¢–ï–ö–£–©–ï–ï –°–û–°–¢–û–Ø–ù–ò–ï

### –ë–∞–∑–∞ –∑–Ω–∞–Ω–∏–π
- üì¶ –î–æ–∫—É–º–µ–Ω—Ç–æ–≤ –≤ ChromaDB: **1,404** (–≤–º–µ—Å—Ç–æ –ø–ª–∞–Ω–∏—Ä—É–µ–º—ã—Ö 26,290)
- ‚ùå QA –ø–∞—Ä—ã: **–ù–ï –∑–∞–≥—Ä—É–∑–∏–ª–∏—Å—å** (–ø—Ä–æ–±–ª–µ–º–∞ —Å –º–µ—Ç–∞–¥–∞–Ω–Ω—ã–º–∏)
- ‚úÖ –ù–æ—Ä–º–∞–ª—å–Ω–∞—è –∏–Ω–¥–µ–∫—Å–∞—Ü–∏—è: **—Ä–∞–±–æ—Ç–∞–µ—Ç —á–∞—Å—Ç–∏—á–Ω–æ** (–ø–∞–¥–∞–µ—Ç –ø–æ OOM)

### –ö–∞—á–µ—Å—Ç–≤–æ –æ—Ç–≤–µ—Ç–æ–≤
- ‚≠ê Score: **21.3%** (–±—ã–ª–æ 85.1%, —Ü–µ–ª—å: 90%)
- Line Numbers: 20.8%
- Code Snippet: 4.2%
- Keywords: 10.8%
- **–ü–ª–æ—Ö–æ –æ—Ç–≤–µ—Ç–æ–≤**: 79.2%

## ‚ùå –ü–†–û–ë–õ–ï–ú–´

### 1. –ó–∞–≥—Ä—É–∑–∫–∞ QA –ø–∞—Ä –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç
**–ü—Ä–∏—á–∏–Ω–∞**: 
- –ú–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ QA –ø–∞—Ä —Å–æ–¥–µ—Ä–∂–∞—Ç –±–æ–ª—å—à–∏–µ —Ç–µ–∫—Å—Ç—ã (answer —Å –ø–æ–ª–Ω—ã–º –∫–æ–¥–æ–º)
- ChromaDB –æ–≥—Ä–∞–Ω–∏—á–∏–≤–∞–µ—Ç —Ä–∞–∑–º–µ—Ä –º–µ—Ç–∞–¥–∞–Ω–Ω—ã—Ö
- store_document() —Ç–∏—Ö–æ –ø–∞–¥–∞–µ—Ç –∏ –Ω–µ –ª–æ–≥–∏—Ä—É–µ—Ç –æ—à–∏–±–∫–∏

**–ü–æ–ø—ã—Ç–∫–∏ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è**:
- ‚úÖ –£–±—Ä–∞–ª answer –∏–∑ metadata
- ‚úÖ –û–≥—Ä–∞–Ω–∏—á–∏–ª —Ä–∞–∑–º–µ—Ä —Å—Ç—Ä–æ–∫ –¥–æ 200 —Å–∏–º–≤–æ–ª–æ–≤  
- ‚ùå –í—Å—ë —Ä–∞–≤–Ω–æ –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç (—Ç–æ–ª—å–∫–æ 2 –¥–æ–∫—É–º–µ–Ω—Ç–∞ —Å–æ—Ö—Ä–∞–Ω–∏–ª–æ—Å—å)

### 2. –ü–æ–ª–Ω–∞—è –ø–µ—Ä–µ–∏–Ω–¥–µ–∫—Å–∞—Ü–∏—è –ø–∞–¥–∞–µ—Ç –ø–æ OOM
**–ü—Ä–∏—á–∏–Ω–∞**:
- –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä API –∏–º–µ–µ—Ç –ª–∏–º–∏—Ç –ø–∞–º—è—Ç–∏
- –û–±—Ä–∞–±–æ—Ç–∫–∞ 381 —Ñ–∞–π–ª–∞ —Å–æ–∑–¥–∞–µ—Ç —Å–ª–∏—à–∫–æ–º –º–Ω–æ–≥–æ embeddings –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ

**–†–µ–∑—É–ª—å—Ç–∞—Ç**: Exit code 137 (SIGKILL)

### 3. –¢–µ–∫—É—â–∞—è –±–∞–∑–∞ (1,404 –¥–æ–∫) —Å–ª–∏—à–∫–æ–º –º–∞–ª–∞
**–†–µ–∑—É–ª—å—Ç–∞—Ç**:
- –ú–æ–¥–µ–ª—å –Ω–µ –Ω–∞—Ö–æ–¥–∏—Ç —Ä–µ–ª–µ–≤–∞–Ω—Ç–Ω—É—é –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é
- –û—Ç–≤–µ—Ç—ã –æ–±—â–∏–µ –∏ —Ä–∞—Å–ø–ª—ã–≤—á–∞—Ç—ã–µ
- Score —É–ø–∞–ª —Å 85% –¥–æ 21%

## ‚úÖ –ß–¢–û –†–ê–ë–û–¢–ê–ï–¢

1. ‚úÖ **API –∑–∞–ø—É—â–µ–Ω –∏ –æ—Ç–≤–µ—á–∞–µ—Ç**
2. ‚úÖ **ChromaDB —Ä–∞–±–æ—Ç–∞–µ—Ç**
3. ‚úÖ **–ü—Ä–æ—Å—Ç–∞—è –∏–Ω–¥–µ–∫—Å–∞—Ü–∏—è —Ä–∞–±–æ—Ç–∞–µ—Ç** (–¥–æ OOM)
4. ‚úÖ **Embedding –º–æ–¥–µ–ª—å –∑–∞–≥—Ä—É–∂–µ–Ω–∞**
5. ‚úÖ **Ollama –º–æ–¥–µ–ª—å —Ä–∞–±–æ—Ç–∞–µ—Ç**
6. ‚úÖ **Webhook –Ω–∞—Å—Ç—Ä–æ–µ–Ω**
7. ‚úÖ **–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è —Å–æ–∑–¥–∞–Ω–∞**

## üéØ –ü–†–ê–í–ò–õ–¨–ù–´–ï –†–ï–®–ï–ù–ò–Ø

### –†–µ—à–µ–Ω–∏–µ 1: –£–≤–µ–ª–∏—á–∏—Ç—å –ø–∞–º—è—Ç—å –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞
```yaml
# docker-compose.local.yml
services:
  api:
    deploy:
      resources:
        limits:
          memory: 8G  # –ë—ã–ª–æ: 4G
```

**–≠—Ñ—Ñ–µ–∫—Ç**: –ü–µ—Ä–µ–∏–Ω–¥–µ–∫—Å–∞—Ü–∏—è –Ω–µ –±—É–¥–µ—Ç –ø–∞–¥–∞—Ç—å –ø–æ OOM

### –†–µ—à–µ–Ω–∏–µ 2: –ë–∞—Ç—á–µ–≤–∞—è –∑–∞–≥—Ä—É–∑–∫–∞ QA –ø–∞—Ä
```python
# –ó–∞–≥—Ä—É–∂–∞—Ç—å –ø–æ 1000 QA –ø–∞—Ä –∑–∞ —Ä–∞–∑
for batch in chunks(qa_pairs, 1000):
    for qa in batch:
        await store_document(...)
    await asyncio.sleep(1)  # –ü–∞—É–∑–∞ –º–µ–∂–¥—É –±–∞—Ç—á–∞–º–∏
```

**–≠—Ñ—Ñ–µ–∫—Ç**: –ò–∑–±–µ–∂–∞—Ç—å OOM –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ 26k –ø–∞—Ä

### –†–µ—à–µ–Ω–∏–µ 3: –£–ø—Ä–æ—Å—Ç–∏—Ç—å QA –ø–∞—Ä—ã
```python
# –í–º–µ—Å—Ç–æ –ø–æ–ª–Ω–æ–≥–æ –∫–æ–¥–∞ –≤ –æ—Ç–≤–µ—Ç–µ - —Ç–æ–ª—å–∫–æ —Å—Å—ã–ª–∫–∞
answer = f"–§–∞–π–ª: {file}, —Å—Ç—Ä–æ–∫–∏: {lines}"
# –ö–æ–¥ –±—É–¥–µ—Ç –∏–∑–≤–ª–µ–∫–∞—Ç—å—Å—è –ø—Ä–∏ –∑–∞–ø—Ä–æ—Å–µ
```

**–≠—Ñ—Ñ–µ–∫—Ç**: –ú–µ–Ω—å—à–∏–π —Ä–∞–∑–º–µ—Ä metadata = —É—Å–ø–µ—à–Ω–æ–µ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ

## üìã –ü–õ–ê–ù –í–û–°–°–¢–ê–ù–û–í–õ–ï–ù–ò–Ø

### –í–∞—Ä–∏–∞–Ω—Ç A: –ü—Ä–æ—Å—Ç–æ–π (30 –º–∏–Ω—É—Ç)
1. –£–≤–µ–ª–∏—á–∏—Ç—å –ø–∞–º—è—Ç—å –¥–æ 8G
2. –ó–∞–ø—É—Å—Ç–∏—Ç—å –ø—Ä–æ—Å—Ç—É—é –ø–µ—Ä–µ–∏–Ω–¥–µ–∫—Å–∞—Ü–∏—é (–ë–ï–ó QA –ø–∞—Ä)
3. –ü–æ–ª—É—á–∏—Ç—å 3,000-4,000 –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤
4. Score ~60-70%

### –í–∞—Ä–∏–∞–Ω—Ç B: –û–ø—Ç–∏–º–∞–ª—å–Ω—ã–π (1.5 —á–∞—Å–∞)
1. –£–≤–µ–ª–∏—á–∏—Ç—å –ø–∞–º—è—Ç—å –¥–æ 8G
2. –£–ø—Ä–æ—Å—Ç–∏—Ç—å QA –ø–∞—Ä—ã (–±–µ–∑ –ø–æ–ª–Ω–æ–≥–æ –∫–æ–¥–∞ –≤ answer)
3. –ë–∞—Ç—á–µ–≤–∞—è –∑–∞–≥—Ä—É–∑–∫–∞ 26,290 –ø–∞—Ä
4. Score ~85-90%

### –í–∞—Ä–∏–∞–Ω—Ç C: –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –≥–æ—Ç–æ–≤—É—é —Å–∏—Å—Ç–µ–º—É
–ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å **project_brain –∫–æ–ª–ª–µ–∫—Ü–∏—é** (5,433 –¥–æ–∫—É–º–µ–Ω—Ç–∞) - –æ–Ω–∞ —É–∂–µ —Ä–∞–±–æ—Ç–∞–µ—Ç!

## üí° –†–ï–ö–û–ú–ï–ù–î–ê–¶–ò–ò

### –ù–µ–º–µ–¥–ª–µ–Ω–Ω–æ (—Å–µ–π—á–∞—Å):
1. **–ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∫–æ–ª–ª–µ–∫—Ü–∏—é project_brain** (5,433 –¥–æ–∫) - –æ–Ω–∞ —Ä–∞–±–æ—Ç–∞–µ—Ç
2. –°–æ–∑–¥–∞—Ç—å alias: staffprobot ‚Üí project_brain  
3. –ü–æ–ª—É—á–∏—Ç—å –ø—Ä–∏–µ–º–ª–µ–º—ã–µ –æ—Ç–≤–µ—Ç—ã

### –ö—Ä–∞—Ç–∫–æ—Å—Ä–æ—á–Ω–æ (–∑–∞–≤—Ç—Ä–∞):
1. –£–≤–µ–ª–∏—á–∏—Ç—å –ø–∞–º—è—Ç—å –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞ –¥–æ 8G
2. –ó–∞–ø—É—Å—Ç–∏—Ç—å –ø–æ–ª–Ω—É—é –ø–µ—Ä–µ–∏–Ω–¥–µ–∫—Å–∞—Ü–∏—é
3. –ü–æ–ª—É—á–∏—Ç—å ~4,000 –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤

### –î–æ–ª–≥–æ—Å—Ä–æ—á–Ω–æ (–Ω–∞ –Ω–µ–¥–µ–ª—é):
1. –ü–µ—Ä–µ–¥–µ–ª–∞—Ç—å —Å–∏—Å—Ç–µ–º—É QA –ø–∞—Ä
2. –ë–∞—Ç—á–µ–≤–∞—è –∑–∞–≥—Ä—É–∑–∫–∞
3. –î–æ—Å—Ç–∏—á—å 26,290 –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤ –∏ 90% –∫–∞—á–µ—Å—Ç–≤–∞

## üéØ –ß–¢–û –Ø –†–ï–ö–û–ú–ï–ù–î–£–Æ –°–ï–ô–ß–ê–°

### –í–∞—Ä–∏–∞–Ω—Ç 1: –£–≤–µ–ª–∏—á–∏—Ç—å –ø–∞–º—è—Ç—å –∏ –ø–µ—Ä–µ–∏–Ω–¥–µ–∫—Å–∏—Ä–æ–≤–∞—Ç—å (–†–ï–ö–û–ú–ï–ù–î–£–ï–¢–°–Ø)
```bash
# 1. –†–µ–¥–∞–∫—Ç–∏—Ä—É–µ–º docker-compose.local.yml
#    limits: memory: 8G

# 2. –ü–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞–µ–º
docker compose -f docker-compose.local.yml up -d

# 3. –ó–∞–ø—É—Å–∫–∞–µ–º –∏–Ω–¥–µ–∫—Å–∞—Ü–∏—é
curl -X POST http://192.168.2.107:8003/api/webhook/manual-reindex/staffprobot
```

**–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç**: 3,000-4,000 –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤, score ~60-70%

### –í–∞—Ä–∏–∞–Ω—Ç 2: –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∫–∞–∫ –µ—Å—Ç—å
1,404 –¥–æ–∫—É–º–µ–Ω—Ç–∞ –¥–∞—é—Ç score 21% - –Ω–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –¥–ª—è production.

## üìù –ò–¢–û–ì–û–í–´–ô –í–ï–†–î–ò–ö–¢

**–¢–µ–∫—É—â–∏–π —Å—Ç–∞—Ç—É—Å**: ‚ö†Ô∏è –¢–†–ï–ë–£–ï–¢ –î–û–†–ê–ë–û–¢–ö–ò
- –ë–∞–∑–∞ —Å–ª–∏—à–∫–æ–º –º–∞–ª–∞ (1,404 –≤–º–µ—Å—Ç–æ 26,290)
- –ö–∞—á–µ—Å—Ç–≤–æ –Ω–∏–∑–∫–æ–µ (21% –≤–º–µ—Å—Ç–æ 85%)
- –ù—É–∂–Ω–æ: —É–≤–µ–ª–∏—á–∏—Ç—å –ø–∞–º—è—Ç—å –∏ –ø–µ—Ä–µ–∏–Ω–¥–µ–∫—Å–∏—Ä–æ–≤–∞—Ç—å

**–ì–æ—Ç–æ–≤–æ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é**: ‚ùå –ù–ï–¢
**–¢—Ä–µ–±—É–µ—Ç—Å—è**: –£–≤–µ–ª–∏—á–∏—Ç—å –ø–∞–º—è—Ç—å –¥–æ 8G –∏ –ø–µ—Ä–µ–∏–Ω–¥–µ–∫—Å–∏—Ä–æ–≤–∞—Ç—å

---

**–°–æ–∑–¥–∞–Ω–æ**: 04:30 –ú–°–ö 18.10.2025  
**–ê–≤—Ç–æ—Ä**: Project Brain Analysis

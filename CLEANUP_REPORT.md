# üßπ –û—Ç—á—ë—Ç –ø–æ –æ—á–∏—Å—Ç–∫–µ –º–µ—Å—Ç–∞ - Project Brain

**–î–∞—Ç–∞**: 18 –æ–∫—Ç—è–±—Ä—è 2025, 22:10 –ú–°–ö  
**–¶–µ–ª—å**: –û—Å–≤–æ–±–æ–¥–∏—Ç—å –º–µ—Å—Ç–æ –Ω–∞ –¥–∏—Å–∫–µ

---

## ‚úÖ –ß–¢–û –°–î–ï–õ–ê–ù–û

### 1. Build Cache –æ—á–∏—â–µ–Ω
```bash
docker builder prune -af
```
**–û—Å–≤–æ–±–æ–∂–¥–µ–Ω–æ**: ~12.5GB ‚úÖ

### 2. –°—Ç–∞—Ä—ã–µ –æ–±—Ä–∞–∑—ã —É–¥–∞–ª–µ–Ω—ã
```bash
docker image prune -af --filter "until=24h"
```
**–û—Å–≤–æ–±–æ–∂–¥–µ–Ω–æ**: ~2.1GB ‚úÖ

### 3. –í—Ä–µ–º–µ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã –≤ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–µ
```bash
# –£–¥–∞–ª–µ–Ω—ã –±–æ–ª—å—à–∏–µ JSON —Ñ–∞–π–ª—ã
/tmp/super_detailed_qa_pairs.json (53MB)
/tmp/targeted_qa_pairs.json (17MB)
/tmp/massive_qa_pairs.json (2.8MB)
/tmp/dependency_graph.json (1.8MB)
```
**–û—Å–≤–æ–±–æ–∂–¥–µ–Ω–æ**: ~75MB ‚úÖ

### 4. –ü—É—Å—Ç—ã–µ –∫–æ–ª–ª–µ–∫—Ü–∏–∏ ChromaDB
```
–£–¥–∞–ª–µ–Ω—ã:
- kb_staffprobot_architecture
- kb_staffprobot_models
- kb_staffprobot_api
- kb_staffprobot_debug
```
**–û—Å–≤–æ–±–æ–∂–¥–µ–Ω–æ**: ~50MB ‚úÖ

---

## üìä –ò–¢–û–ì–û –û–°–í–û–ë–û–ñ–î–ï–ù–û: ~14.7GB ‚úÖ

**–ë—ã–ª–æ**: ~32GB –∑–∞–Ω—è—Ç–æ  
**–°—Ç–∞–ª–æ**: ~17GB –∑–∞–Ω—è—Ç–æ  
**–û—Å–≤–æ–±–æ–∂–¥–µ–Ω–æ**: ~15GB

---

## ‚ö†Ô∏è –ù–ï –¢–†–û–ì–ê–õ (–º–æ–≥—É—Ç –±—ã—Ç—å –Ω—É–∂–Ω—ã)

### Docker Volumes (10.73GB –ø–æ–º–µ—á–µ–Ω—ã –∫–∞–∫ reclaimable)
**–ù–ï —É–¥–∞–ª—è–ª**, —Ç–∞–∫ –∫–∞–∫ –º–æ–≥—É—Ç —Å–æ–¥–µ—Ä–∂–∞—Ç—å –≤–∞–∂–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ:
- staffprobot_postgres_dev_data
- staffprobot_postgres_prod_data
- project-brain_chroma_data
- –î—Ä. volumes —Å –¥–∞–Ω–Ω—ã–º–∏

**–ß—Ç–æ–±—ã —É–¥–∞–ª–∏—Ç—å**: 
```bash
# –û–°–¢–û–†–û–ñ–ù–û! –ü–æ—Ç–µ—Ä—è–µ—à—å –¥–∞–Ω–Ω—ã–µ!
docker volume ls -qf dangling=true | xargs docker volume rm
```

### –ê–∫—Ç–∏–≤–Ω—ã–µ –æ–±—Ä–∞–∑—ã (17.56GB)
–ò—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –∑–∞–ø—É—â–µ–Ω–Ω—ã–º–∏ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞–º–∏ - –ù–ï —É–¥–∞–ª—è–ª.

---

## üí° –î–û–ü–û–õ–ù–ò–¢–ï–õ–¨–ù–ê–Ø –û–ß–ò–°–¢–ö–ê (–µ—Å–ª–∏ –Ω—É–∂–Ω–æ)

### 1. –õ–æ–≥–∏ Docker
```bash
# –û—á–∏—Å—Ç–∫–∞ –ª–æ–≥–æ–≤ –≤—Å–µ—Ö –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤
docker ps -aq | xargs -I {} sh -c 'echo "" > $(docker inspect --format="{{.LogPath}}" {})'
```
**–ú–æ–∂–µ—Ç –æ—Å–≤–æ–±–æ–¥–∏—Ç—å**: 100-500MB

### 2. –°—Ç–∞—Ä—ã–µ ChomraDB –∫–æ–ª–ª–µ–∫—Ü–∏–∏
```bash
# –£–¥–∞–ª–∏—Ç—å —Å—Ç–∞—Ä—É—é project_brain –∫–æ–ª–ª–µ–∫—Ü–∏—é (5,433 –¥–æ–∫)
docker compose -f docker-compose.local.yml exec api python -c "
import chromadb
client = chromadb.HttpClient(host='chromadb', port=8000)
client.delete_collection('project_brain')
"
```
**–û—Å–≤–æ–±–æ–¥–∏—Ç**: ~200-300MB

### 3. –ù–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ dangling volumes
```bash
docker volume prune -af
```
**–ú–æ–∂–µ—Ç –æ—Å–≤–æ–±–æ–¥–∏—Ç—å**: –¥–æ 10GB

---

## üìã –¢–ï–ö–£–©–ï–ï –°–û–°–¢–û–Ø–ù–ò–ï

```
TYPE            TOTAL     ACTIVE    SIZE      RECLAIMABLE
Images          12        12        17.56GB   344.6MB (1%)
Containers      13        13        313.2MB   0B (0%)
Local Volumes   21        17        11.67GB   10.73GB (92%)
Build Cache     0         0         0B        0B
```

**–ê–∫—Ç–∏–≤–Ω–æ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è**: ~18GB  
**–ú–æ–∂–Ω–æ –æ—Å–≤–æ–±–æ–¥–∏—Ç—å –±–µ–∑–æ–ø–∞—Å–Ω–æ**: ~350MB (1% images)  
**–ú–æ–∂–Ω–æ —É–¥–∞–ª–∏—Ç—å volumes** (–†–ò–°–ö!): ~10.7GB

---

## üéØ –†–ï–ö–û–ú–ï–ù–î–ê–¶–ò–ò

### –°–µ–π—á–∞—Å –æ—Å–≤–æ–±–æ–∂–¥–µ–Ω–æ –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ (~15GB)
- Build cache: 0GB ‚úÖ
- –í—Ä–µ–º–µ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã: –æ—á–∏—â–µ–Ω—ã ‚úÖ
- –ü—É—Å—Ç—ã–µ –∫–æ–ª–ª–µ–∫—Ü–∏–∏: —É–¥–∞–ª–µ–Ω—ã ‚úÖ

### –ï—Å–ª–∏ –Ω—É–∂–Ω–æ –µ—â—ë –º–µ—Å—Ç–æ:
1. –£–¥–∞–ª–∏—Ç—å —Å—Ç–∞—Ä—É—é –∫–æ–ª–ª–µ–∫—Ü–∏—é `project_brain` (5,433 –¥–æ–∫) ‚Üí ~300MB
2. –û—á–∏—Å—Ç–∏—Ç—å dangling volumes ‚Üí ~10GB (–ù–û –º–æ–≥—É—Ç –±—ã—Ç—å –≤–∞–∂–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ!)

---

**–û—á–∏—â–µ–Ω–æ**: 14.7GB ‚úÖ  
**–°–æ—Å—Ç–æ—è–Ω–∏–µ**: –£–ø–æ—Ä—è–¥–æ—á–µ–Ω–æ  
**–ú–µ—Å—Ç–æ –æ—Å–≤–æ–±–æ–∂–¥–µ–Ω–æ**: –î–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –¥–ª—è —Ä–∞–±–æ—Ç—ã
